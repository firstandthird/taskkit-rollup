{"version":3,"file":"domassist.js","sources":["../../node_modules/domodule/lib/getParentModule.js","../../node_modules/attrobj/lib/attrobj.js","../../node_modules/domodule/node_modules/aug/index.js","../../node_modules/domodule/node_modules/domassist/lib/isWindow.js","../../node_modules/domodule/node_modules/domassist/lib/find.js","../../node_modules/domodule/node_modules/domassist/lib/on.js","../../node_modules/domodule/node_modules/domassist/lib/findOne.js","../../node_modules/domodule/node_modules/domassist/lib/fire.js","../../node_modules/domodule/node_modules/domassist/lib/scrollableContainer.js","../../node_modules/domodule/node_modules/domassist/lib/isTouch.js","../../node_modules/domodule/lib/domodule.js","../../node_modules/domassist/lib/isWindow.js","../../node_modules/domassist/lib/find.js","../../node_modules/domassist/lib/on.js","../../node_modules/domassist/lib/fire.js","../../node_modules/domassist/lib/scrollableContainer.js","../../node_modules/domassist/lib/isTouch.js","../input/domassist.js"],"sourcesContent":["function findParent(elem) {\n  if (elem.parentNode) {\n    // Accounting for https://bugs.webkit.org/show_bug.cgi?id=161454\n    const dataset = JSON.parse(JSON.stringify(elem.parentNode.dataset));\n\n    if (dataset.module) {\n      return elem.parentNode;\n    }\n\n    return findParent(elem.parentNode);\n  }\n\n  return elem;\n}\n\nexport default findParent;\n","/* global window */\n\nexport default function(key, el) {\n  const values = {};\n\n  Object.keys(el.dataset).forEach(data => {\n    if (data.match(new RegExp(`^${key}`)) && data !== key) {\n      let optionName = data.replace(key, '');\n      let isGlobal = false;\n\n      if (optionName.match(/^Global/)) {\n        optionName = optionName.replace('Global', '');\n        isGlobal = true;\n      }\n\n      optionName = `${optionName[0].toLowerCase()}${optionName.slice(1)}`;\n\n      if (isGlobal) {\n        values[optionName] = window[el.dataset[data]];\n      } else {\n        values[optionName] = el.dataset[data];\n      }\n    }\n  });\n\n  return values;\n}\n","'use strict';\nconst aug = function() {\n  const args = Array.prototype.slice.call(arguments); //eslint-disable-line prefer-rest-params\n  let org = args.shift();\n  let type = '';\n  if (typeof org === 'string' || typeof org === 'boolean') {\n    type = (org === true) ? 'deep' : org;\n    org = args.shift();\n    if (type === 'defaults') {\n      org = aug({}, org); //clone defaults into new object\n      type = 'strict';\n    }\n  }\n  args.forEach((prop) => {\n    for (const propName in prop) { //eslint-disable-line\n      const propValue = prop[propName];\n      // just overwrite arrays:\n      if (Array.isArray(propValue)) {\n        org[propName] = propValue;\n        continue;\n      }\n      if (type === 'deep' && typeof propValue === 'object' && typeof org[propName] !== 'undefined') {\n        if (typeof org[propName] !== 'object') {\n          org[propName] = propValue;\n          continue;\n        }\n        aug(type, org[propName], propValue);\n      } else if (type !== 'strict' || (type === 'strict' && typeof org[propName] !== 'undefined')) {\n        org[propName] = propValue;\n      }\n    }\n  });\n  return org;\n};\nmodule.exports = aug;\n","function isWindow(obj) {\n  return obj != null && obj === obj.window;\n}\n\nexport default isWindow;\n","import isWindow from './isWindow';\n\nfunction find(selector, context = null) {\n  if (selector instanceof HTMLElement || selector instanceof Node || isWindow(selector)) {\n    return [selector];\n  } else if (selector instanceof NodeList) {\n    return [].slice.call(selector);\n  } else if (typeof selector === 'string') {\n    const startElement = (context) ? find(context)[0] : document;\n    return [].slice.call(startElement.querySelectorAll(selector));\n  }\n  return [];\n}\n\nexport default find;\n","import find from './find';\n\nfunction on(selector, event, cb, capture = false) {\n  if (Array.isArray(selector)) {\n    selector.forEach((item) => on(item, event, cb, capture));\n    return;\n  }\n\n  const data = {\n    cb,\n    capture\n  };\n\n  if (!window._domassistevents) {\n    window._domassistevents = {};\n  }\n\n  window._domassistevents[`_${event}`] = data;\n  const el = find(selector);\n  if (el.length) {\n    el.forEach((item) => {\n      item.addEventListener(event, cb, capture);\n    });\n  }\n}\n\nexport default on;\n","import find from './find';\n\nfunction findOne(selector, el) {\n  const found = find(selector, el);\n\n  if (found.length) {\n    return found[0];\n  }\n\n  return null;\n}\n\nexport default findOne;\n","import find from './find';\n\nconst NativeCustomEvent = window.CustomEvent;\n\n//\n// Check for the usage of native support for CustomEvents which is lacking\n// completely on IE.\n//\nfunction canIuseNativeCustom() {\n  try {\n    const p = new NativeCustomEvent('t', {\n      detail: {\n        a: 'b'\n      }\n    });\n    return p.type === 't' && p.detail.a === 'b';\n  } catch (e) {\n    return false;\n  }\n}\n\n// Lousy polyfill for the Custom Event constructor for IE.\nconst IECustomEvent = function CustomEvent(type, params) {\n  const e = document.createEvent('CustomEvent');\n\n  if (params) {\n    e.initCustomEvent(type, params.bubbles, params.cancelable, params.detail);\n  } else {\n    e.initCustomEvent(type, false, false, undefined);\n  }\n\n  return e;\n};\n\nconst DomassistCustomEvent = canIuseNativeCustom() ?\n  NativeCustomEvent : IECustomEvent;\n\nfunction fire(selector, type, params = {}) {\n  if (Array.isArray(selector)) {\n    return selector.forEach(item => fire(item, type, params));\n  }\n\n  const els = find(selector);\n\n  if (els.length) {\n    if (params.bubbles !== false) {\n      params.bubbles = true;\n    }\n\n    els.forEach(el => {\n      const event = new DomassistCustomEvent(type, params);\n      el.dispatchEvent(event);\n    });\n\n    return els;\n  }\n}\n\nexport default fire;\n","let SCROLLABLE_CONTAINER;\n\nfunction getScrollableContainer() {\n  if (SCROLLABLE_CONTAINER) {\n    return SCROLLABLE_CONTAINER;\n  }\n\n  const documentElement = window.document.documentElement;\n  let scrollableContainer;\n\n  documentElement.scrollTop = 1;\n\n  if (documentElement.scrollTop === 1) {\n    documentElement.scrollTop = 0;\n    scrollableContainer = documentElement;\n  } else {\n    scrollableContainer = document.body;\n  }\n\n  SCROLLABLE_CONTAINER = scrollableContainer;\n\n  return scrollableContainer;\n}\n\nSCROLLABLE_CONTAINER = getScrollableContainer();\n\nexport default getScrollableContainer;\n","/* global DocumentTouch */\n\nexport default function isTouch() {\n  return (('ontouchstart' in window) ||\n  window.DocumentTouch && document instanceof DocumentTouch);\n}\n","/* eslint no-new:0 */\nimport parentModule from '../lib/getParentModule';\nimport attrObj from 'attrobj';\nimport aug from 'aug';\nimport { find, findOne, on } from 'domassist';\n\nconst ACTION_SELECTOR = '[data-action]';\nconst DOMAssist = { find, findOne, on };\n\nclass Domodule {\n  constructor(el) {\n    this.log('begin setup');\n    this.el = el;\n    this.els = {};\n    this.options = aug({}, this.defaults, attrObj('module', this.el));\n    this.moduleName = this.el.dataset.module;\n    this.setUps = {\n      actions: [],\n      named: [],\n      options: []\n    };\n    this.boundActionRouter = this.actionRouter.bind(this);\n\n    this.preInit();\n    this.storeRef();\n    this.setupActions();\n    this.setupNamed();\n    this.verifyRequired();\n    this.postInit();\n    this.log('initalized');\n\n    if (Domodule.debug) {\n      this.el.module = this;\n    }\n\n    return this;\n  }\n\n  preInit() {\n  }\n\n  postInit() {\n  }\n\n  get required() {\n    return {};\n  }\n\n  get defaults() {\n    return {};\n  }\n\n  get uuid() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n      const r = Math.random() * 16 | 0;\n      const v = c === 'x' ? r : (r & 0x3 | 0x8);\n      return v.toString(16);\n    });\n  }\n\n  verifyRequired() {\n    if (this.required === {}) {\n      return this;\n    }\n\n    if (typeof this.required.options !== 'undefined') {\n      this.setUps.options = Object.keys(this.options);\n    }\n\n    Object.keys(this.required).forEach((required) => {\n      this.required[required].forEach((value) => {\n        if (this.setUps[required].indexOf(value) < 0) {\n          throw new Error(`${value} is required as ${required} for ${this.moduleName}, but is missing!`);\n        }\n      });\n    });\n\n    return this;\n  }\n\n  setupActions() {\n    this.setupAction(this.el);\n\n    this.find(ACTION_SELECTOR).forEach((action) => {\n      const parent = parentModule(action);\n\n      if (parent === this.el) {\n        this.setupAction(action);\n      }\n    });\n  }\n\n  setupAction(actionEl) {\n    if (actionEl.dataset.domoduleActionProcessed === 'true') {\n      return;\n    }\n\n    const { name: actionName, type: actionType } = Domodule.parseAction(actionEl);\n\n    if (!actionName) {\n      return;\n    } else if (typeof this[actionName] !== 'function') {\n      this.log(`${actionName} was registered, but there is no function set up`);\n      return;\n    }\n\n    this.log(`${actionName} bound`);\n    this.storeSetUp(actionName, 'actions');\n\n    DOMAssist.on(actionEl, actionType, this.boundActionRouter);\n\n    actionEl.dataset.domoduleActionProcessed = 'true';\n  }\n\n  actionRouter(event) {\n    const actionEl = event.currentTarget;\n    const { name: actionName } = Domodule.parseAction(actionEl);\n    const actionData = attrObj('action', actionEl);\n\n    this[actionName].call(\n      this,\n      actionEl,\n      event,\n      actionData\n    );\n  }\n\n  setupNamed() {\n    this.find('[data-name]').forEach((named) => {\n      const parent = parentModule(named);\n\n      if (parent !== this.el) {\n        return;\n      }\n\n      if (!named.dataset.domoduleNameProcessed) {\n        this.els[named.dataset.name] = named;\n\n        this.storeSetUp(named.dataset.name, 'named');\n        named.dataset.domoduleNameProcessed = 'true';\n        named.dataset.domoduleOwner = this.id;\n      }\n    });\n  }\n\n  storeRef() {\n    if (typeof window.domorefs === 'undefined') {\n      window.domorefs = {};\n    }\n\n    if (typeof window.domorefs[this.el.dataset.moduleUid] !== 'undefined') {\n      return false;\n    }\n\n    this.id = this.uuid;\n    this.el.dataset.moduleUid = this.id;\n    window.domorefs[this.el.dataset.moduleUid] = this;\n  }\n\n  find(selector) {\n    return DOMAssist.find(selector, this.el);\n  }\n\n  findOne(selector) {\n    return DOMAssist.findOne(selector, this.el);\n  }\n\n  findByName(name) {\n    return this.els[name];\n  }\n\n  getOption(option) {\n    return this.options[option];\n  }\n\n  storeSetUp(name, dict) {\n    if (this.setUps[dict].indexOf(name) < 0) {\n      this.setUps[dict].push(name);\n    }\n  }\n\n  destroy() {\n    DOMAssist.find(ACTION_SELECTOR, this.el.parentNode).forEach(el => {\n      if (el.dataset.domoduleActionProcessed === 'true') {\n        const { type: actionType } = Domodule.parseAction(el);\n\n        el.removeEventListener(actionType, this.boundActionRouter);\n        el.dataset.domoduleActionProcessed = 'false';\n      }\n    });\n  }\n\n  // static methods can't access `this` so they go last\n  static parseAction(el) {\n    const { action: name, actionType: type = 'click' } = el.dataset;\n    return { name, type };\n  }\n\n  static getInstance(element) {\n    if (element instanceof Node) {\n      return window.domorefs[element.dataset.moduleUid];\n    }\n\n    throw new Error('getInstance expects a dom node');\n  }\n\n  static register(name, cls) {\n    if (typeof name === 'function') {\n      cls = name;\n      name = cls.prototype.constructor.name;\n    }\n\n    if (!window.domodules) {\n      window.domodules = {};\n    }\n\n    Domodule.log(`Registering ${name}`);\n    window.domodules[name] = cls;\n  }\n\n  static discover(el = 'body') {\n    Domodule.log('Discovering modules...');\n\n    if (!window.domodules) {\n      Domodule.log('No modules found');\n      return;\n    }\n\n    let els;\n\n    if (el instanceof Node) {\n      els = [el];\n    } else if (Array.isArray(el)) {\n      els = el;\n    } else {\n      els = DOMAssist.find(el);\n    }\n\n    const instances = [];\n\n    els.forEach(matched => {\n      const foundModules = DOMAssist.find('[data-module]', matched);\n\n      foundModules.forEach((moduleEl) => {\n        const moduleName = moduleEl.dataset.module;\n\n        if (moduleName && typeof window.domodules[moduleName] === 'function') {\n          if (typeof window.domorefs === 'object' && typeof window.domorefs[moduleEl.dataset.moduleUid] !== 'undefined') {\n            return;\n          }\n\n          Domodule.log(`${moduleName} found`);\n          instances.push(new window.domodules[moduleName](moduleEl));\n        }\n      });\n    });\n\n    return instances;\n  }\n\n  //used inside instance\n  log(msg) {\n    Domodule.log(`${this.constructor.name}: ${msg}`);\n  }\n\n  static log(msg) {\n    if (Domodule.debug) {\n      console.log(`[DOMODULE] ${msg}`); //eslint-disable-line no-console\n    }\n  }\n}\nDomodule.debug = (typeof window.localStorage === 'object' && window.localStorage.getItem('DomoduleDebug'));\n\nDomodule.autoDiscover = true;\nwindow.addEventListener('DOMContentLoaded', () => {\n  if (Domodule.autoDiscover) {\n    Domodule.discover();\n  }\n});\n\nexport default Domodule;\n","function isWindow(obj) {\n  return obj != null && obj === obj.window;\n}\n\nexport default isWindow;\n","import isWindow from './isWindow';\n\nfunction find(selector, context = null) {\n  if (selector instanceof HTMLElement || selector instanceof Node || isWindow(selector)) {\n    return [selector];\n  } else if (selector instanceof NodeList) {\n    return [].slice.call(selector);\n  } else if (typeof selector === 'string') {\n    const startElement = (context) ? find(context)[0] : document;\n    return [].slice.call(startElement.querySelectorAll(selector));\n  }\n  return [];\n}\n\nexport default find;\n","import find from './find';\n\nfunction on(selector, event, cb, capture = false) {\n  if (Array.isArray(selector)) {\n    selector.forEach((item) => on(item, event, cb, capture));\n    return;\n  }\n\n  const data = {\n    cb,\n    capture\n  };\n\n  if (!window._domassistevents) {\n    window._domassistevents = {};\n  }\n\n  window._domassistevents[`_${event}`] = data;\n  const el = find(selector);\n  if (el.length) {\n    el.forEach((item) => {\n      item.addEventListener(event, cb, capture);\n    });\n  }\n}\n\nexport default on;\n","import find from './find';\n\nconst NativeCustomEvent = window.CustomEvent;\n\n//\n// Check for the usage of native support for CustomEvents which is lacking\n// completely on IE.\n//\nfunction canIuseNativeCustom() {\n  try {\n    const p = new NativeCustomEvent('t', {\n      detail: {\n        a: 'b'\n      }\n    });\n    return p.type === 't' && p.detail.a === 'b';\n  } catch (e) {\n    return false;\n  }\n}\n\n// Lousy polyfill for the Custom Event constructor for IE.\nconst IECustomEvent = function CustomEvent(type, params) {\n  const e = document.createEvent('CustomEvent');\n\n  if (params) {\n    e.initCustomEvent(type, params.bubbles, params.cancelable, params.detail);\n  } else {\n    e.initCustomEvent(type, false, false, undefined);\n  }\n\n  return e;\n};\n\nconst DomassistCustomEvent = canIuseNativeCustom() ?\n  NativeCustomEvent : IECustomEvent;\n\nfunction fire(selector, type, params = {}) {\n  if (Array.isArray(selector)) {\n    return selector.forEach(item => fire(item, type, params));\n  }\n\n  const els = find(selector);\n\n  if (els.length) {\n    if (params.bubbles !== false) {\n      params.bubbles = true;\n    }\n\n    els.forEach(el => {\n      const event = new DomassistCustomEvent(type, params);\n      el.dispatchEvent(event);\n    });\n\n    return els;\n  }\n}\n\nexport default fire;\n","let SCROLLABLE_CONTAINER;\n\nfunction getScrollableContainer() {\n  if (SCROLLABLE_CONTAINER) {\n    return SCROLLABLE_CONTAINER;\n  }\n\n  const documentElement = window.document.documentElement;\n  let scrollableContainer;\n\n  documentElement.scrollTop = 1;\n\n  if (documentElement.scrollTop === 1) {\n    documentElement.scrollTop = 0;\n    scrollableContainer = documentElement;\n  } else {\n    scrollableContainer = document.body;\n  }\n\n  SCROLLABLE_CONTAINER = scrollableContainer;\n\n  return scrollableContainer;\n}\n\nSCROLLABLE_CONTAINER = getScrollableContainer();\n\nexport default getScrollableContainer;\n","/* global DocumentTouch */\n\nexport default function isTouch() {\n  return (('ontouchstart' in window) ||\n  window.DocumentTouch && document instanceof DocumentTouch);\n}\n","import Domodule from 'domodule';\nimport { find, fire, on } from 'domassist';\n\nclass Reload extends Domodule {\n  postInit() {\n    on(this.el, 'click', this.onClick.bind(this));\n  }\n\n  onClick(event) {\n    event.preventDefault();\n    fire(this.el, 'tessst', { bubbles: true });\n  }\n}\n\nDomodule.register('Reload', Reload);\n\nclass Test {\n  constructor() {\n    console.log('test');\n  }\n\n  type() {\n    console.log(typeof find);\n  }\n}\n\nclass Do extends Test {\n  constructor() {\n    super();\n\n    this.echo();\n  }\n\n  echo(message = 'something') {\n    console.log(message);\n  }\n}\n\nconst matrix = ['a', 'b', 'c'];\nconst [first] = matrix;\nconst obj = { first };\nconst f = () => obj;\n\nfunction foo(...args) {\n  const { a } = f();\n  console.log(args);\n\n  return a;\n}\n\nconsole.log(foo(matrix, Test));\n\nexport default Do;\n"],"names":["findParent","elem","parentNode","dataset","JSON","parse","stringify","module","key","el","values","Object","keys","forEach","data","match","RegExp","optionName","replace","isGlobal","toLowerCase","slice","window","aug","args","Array","prototype","call","arguments","org","shift","type","prop","propName","propValue","isArray","isWindow","obj","find","selector","context","HTMLElement","Node","NodeList","startElement","document","querySelectorAll","on","event","cb","capture","item","_domassistevents","length","addEventListener","findOne","found","NativeCustomEvent","CustomEvent","canIuseNativeCustom","p","detail","a","e","IECustomEvent","params","createEvent","initCustomEvent","bubbles","cancelable","undefined","DomassistCustomEvent","SCROLLABLE_CONTAINER","getScrollableContainer","documentElement","scrollableContainer","scrollTop","body","ACTION_SELECTOR","DOMAssist","Domodule","log","els","options","defaults","attrObj","moduleName","setUps","actions","named","boundActionRouter","actionRouter","bind","preInit","storeRef","setupActions","setupNamed","verifyRequired","postInit","debug","required","value","indexOf","Error","setupAction","action","parent","parentModule","actionEl","domoduleActionProcessed","parseAction","actionName","name","actionType","storeSetUp","currentTarget","actionData","domoduleNameProcessed","domoduleOwner","id","domorefs","moduleUid","uuid","option","dict","push","removeEventListener","msg","constructor","c","r","Math","random","v","toString","element","cls","domodules","instances","matched","foundModules","moduleEl","console","localStorage","getItem","autoDiscover","discover","fire","dispatchEvent","Reload","onClick","preventDefault","register","Test","Do","echo","message","matrix","first","f","foo"],"mappings":"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"}