{"version":3,"file":"domassist.js","sources":["node_modules/domassist/lib/isWindow.js","node_modules/domassist/lib/find.js","node_modules/domassist/lib/addClass.js","node_modules/domassist/lib/on.js","node_modules/domassist/lib/matches.js","node_modules/domassist/lib/delegate.js","node_modules/domassist/lib/findOne.js","node_modules/domassist/lib/fire.js","node_modules/domassist/lib/hasClass.js","node_modules/domassist/lib/hide.js","node_modules/domassist/lib/hover.js","node_modules/domassist/lib/off.js","node_modules/domassist/lib/once.js","node_modules/domassist/lib/prefixedTransform.js","node_modules/domassist/lib/removeClass.js","node_modules/domassist/lib/scrollableContainer.js","node_modules/domassist/lib/show.js","node_modules/domassist/lib/toggleClass.js","node_modules/domassist/lib/closest.js","node_modules/domassist/lib/ready.js","node_modules/domassist/lib/styles.js","node_modules/domassist/lib/addAttrs.js","node_modules/domassist/lib/html.js","node_modules/domassist/lib/isTouch.js","node_modules/domassist/lib/modify.js","node_modules/domassist/lib/append.js","node_modules/domassist/lib/toArray.js","node_modules/domassist/domassist.default.js","test/input/domassist.js"],"sourcesContent":["function isWindow(obj) {\n  return obj != null && obj === obj.window;\n}\n\nexport default isWindow;\n","import isWindow from './isWindow';\n\nfunction find(selector, context = null) {\n  if (selector instanceof HTMLElement || selector instanceof Node || isWindow(selector)) {\n    return [selector];\n  } else if (selector instanceof NodeList) {\n    return [].slice.call(selector);\n  } else if (typeof selector === 'string') {\n    const startElement = (context) ? find(context)[0] : document;\n    return [].slice.call(startElement.querySelectorAll(selector));\n  }\n  return [];\n}\n\nexport default find;\n","import find from './find';\n\nfunction addClass(selector, cls) {\n  if (Array.isArray(selector)) {\n    return selector.forEach((item) => addClass(item, cls));\n  }\n  const els = find(selector);\n  if (els.length) {\n    const clsArray = [].concat(cls);\n    els.forEach((el) => {\n      clsArray.forEach((item) => {\n        el.classList.add(item);\n      });\n    });\n    return els;\n  }\n}\n\nexport default addClass;\n","import find from './find';\n\nfunction on(selector, event, cb, capture = false) {\n  if (Array.isArray(selector)) {\n    selector.forEach((item) => on(item, event, cb, capture));\n    return;\n  }\n\n  const data = {\n    cb,\n    capture\n  };\n\n  if (!window._domassistevents) {\n    window._domassistevents = {};\n  }\n\n  window._domassistevents[`_${event}`] = data;\n  const el = find(selector);\n  if (el.length) {\n    el.forEach((item) => {\n      item.addEventListener(event, cb, capture);\n    });\n  }\n}\n\nexport default on;\n","function matches(el, selector) {\n  const proto = Element.prototype;\n  let match = false;\n\n  const prefixes = [\n    'matches',\n    'matchesSelector',\n    'webkitMatchesSelector',\n    'mozMatchesSelector',\n    'msMatchesSelector',\n    'oMatchesSelector'\n  ];\n\n  prefixes.forEach(prefix => {\n    if (proto.hasOwnProperty(prefix)) {\n      match = proto[prefix];\n    }\n  });\n\n  if (match) {\n    return (el) ? match.call(el, selector) : null;\n  }\n}\n\nexport default matches;\n","import on from './on';\nimport matches from './matches';\n\nfunction delegate(el, event, selector, cb, capture = false) {\n  on(el, event, e => {\n    if (e.target && matches(e.target, selector)) {\n      return cb(e);\n    }\n  }, capture);\n}\n\nexport default delegate;\n","import find from './find';\n\nfunction findOne(selector, el) {\n  const found = find(selector, el);\n\n  if (found.length) {\n    return found[0];\n  }\n\n  return null;\n}\n\nexport default findOne;\n","import find from './find';\n\nconst NativeCustomEvent = window.CustomEvent;\n\n//\n// Check for the usage of native support for CustomEvents which is lacking\n// completely on IE.\n//\nfunction canIuseNativeCustom() {\n  try {\n    const p = new NativeCustomEvent('t', {\n      detail: {\n        a: 'b'\n      }\n    });\n    return p.type === 't' && p.detail.a === 'b';\n  } catch (e) {\n    return false;\n  }\n}\n\n// Lousy polyfill for the Custom Event constructor for IE.\nconst IECustomEvent = function CustomEvent(type, params) {\n  const e = document.createEvent('CustomEvent');\n\n  if (params) {\n    e.initCustomEvent(type, params.bubbles, params.cancelable, params.detail);\n  } else {\n    e.initCustomEvent(type, false, false, undefined);\n  }\n\n  return e;\n};\n\nconst DomassistCustomEvent = canIuseNativeCustom() ?\n  NativeCustomEvent : IECustomEvent;\n\nfunction fire(selector, type, params = {}) {\n  if (Array.isArray(selector)) {\n    return selector.forEach(item => fire(item, type, params));\n  }\n\n  const els = find(selector);\n\n  if (els.length) {\n    if (params.bubbles !== false) {\n      params.bubbles = true;\n    }\n\n    els.forEach(el => {\n      const event = new DomassistCustomEvent(type, params);\n      el.dispatchEvent(event);\n    });\n\n    return els;\n  }\n}\n\nexport default fire;\n","import findOne from './findOne';\nfunction hasClass(selector, cls) {\n  const el = findOne(selector);\n  if (!el) {\n    return false;\n  }\n  return el.classList.contains(cls);\n}\n\nexport default hasClass;\n","import find from './find';\n\nfunction hide(selector) {\n  if (Array.isArray(selector)) {\n    selector.forEach((item) => hide(item));\n  }\n  const els = find(selector);\n  if (els.length) {\n    els.forEach((el) => {\n      const currentDisplay = window.getComputedStyle(el).getPropertyValue('display');\n\n      if (currentDisplay !== 'none') {\n        el.dataset._currentDisplay = currentDisplay;\n        el.style.display = 'none';\n      }\n    });\n  }\n}\n\nexport default hide;\n","import on from './on';\n\nfunction hover(el, enter, exit) {\n  on(el, 'mouseenter', enter);\n  on(el, 'mouseleave', exit);\n}\n\nexport default hover;\n","import find from './find';\n\nfunction off(selector, event) {\n  if (Array.isArray(selector)) {\n    selector.forEach((item) => off(item, event));\n  }\n  if (!window._domassistevents) {\n    window._domassistevents = {};\n  }\n\n  const data = window._domassistevents[`_${event}`];\n\n  if (!data) {\n    return;\n  }\n  const el = find(selector);\n  if (el.length) {\n    el.forEach((item) => {\n      item.removeEventListener(event, data.cb, data.capture);\n    });\n  }\n}\n\nexport default off;\n","import on from './on';\nimport off from './off';\n\nfunction once(el, event, run, capture = false) {\n  on(el, event, e => {\n    off(el, event);\n    run(e);\n  }, capture);\n}\n\nexport default once;\n","let transform = null;\n\nexport default function prefixedTransform() {\n  if (transform) {\n    return transform;\n  }\n\n  const testEl = document.createElement('div');\n\n  if (testEl.style.transform === null) {\n    const vendors = ['Webkit', 'webkit', 'Moz', 'ms'];\n    let property = null;\n\n    for (let i = 0, len = vendors.length; i < len && !property; i++) {\n      const tProperty = `${vendors[i]}Transform`;\n      if (typeof testEl.style[tProperty] !== 'undefined') {\n        property = tProperty;\n      }\n    }\n\n    transform = property;\n  } else {\n    transform = 'transform';\n  }\n\n  return transform;\n}\n","import find from './find';\n\nfunction removeClass(selector, cls) {\n  if (Array.isArray(selector)) {\n    return selector.forEach((item) => removeClass(item, cls));\n  }\n\n  const els = find(selector);\n  if (els.length) {\n    const clsArray = [].concat(cls);\n    els.forEach((el) => {\n      clsArray.forEach((item) => {\n        el.classList.remove(item);\n      });\n    });\n    return els;\n  }\n}\n\nexport default removeClass;\n","let SCROLLABLE_CONTAINER;\n\nfunction getScrollableContainer() {\n  if (SCROLLABLE_CONTAINER) {\n    return SCROLLABLE_CONTAINER;\n  }\n\n  const documentElement = window.document.documentElement;\n  let scrollableContainer;\n\n  documentElement.scrollTop = 1;\n\n  if (documentElement.scrollTop === 1) {\n    documentElement.scrollTop = 0;\n    scrollableContainer = documentElement;\n  } else {\n    scrollableContainer = document.body;\n  }\n\n  SCROLLABLE_CONTAINER = scrollableContainer;\n\n  return scrollableContainer;\n}\n\nSCROLLABLE_CONTAINER = getScrollableContainer();\n\nexport default getScrollableContainer;\n","import find from './find';\n\nfunction show(selector) {\n  if (Array.isArray(selector)) {\n    selector.forEach((item) => show(item));\n  }\n  const els = find(selector);\n  if (els.length) {\n    els.forEach((el) => {\n      el.style.display = el.dataset._currentDisplay || 'block';\n    });\n  }\n}\n\nexport default show;\n","import addClass from './addClass';\nimport removeClass from './removeClass';\nimport hasClass from './hasClass';\n\nfunction toggleClass(el, value) {\n  if (hasClass(el, value)) {\n    removeClass(el, value);\n  } else {\n    addClass(el, value);\n  }\n}\n\nexport default toggleClass;\n","import matches from './matches';\n\nfunction closest(el, selector) {\n  let parent = el.tagName.toLowerCase() === 'svg' ? el.parentNode : el.parentElement;\n  while (parent.parentElement && !matches(parent, selector)) {\n    parent = parent.parentElement;\n  }\n  return (matches(parent, selector)) ? parent : null;\n}\n\nexport default closest;\n","const setupReady = (callbacks) => (callback) => {\n  callbacks.push(callback);\n  function execute() {\n    while (callbacks.length) {\n      const fn = callbacks.shift();\n      if (typeof fn === 'function') {\n        fn();\n      }\n    }\n  }\n  function loaded() {\n    document.removeEventListener('DOMContentLoaded', loaded);\n    execute();\n  }\n\n  setTimeout(() => {\n    if (document.readyState !== 'loading') {\n      return execute();\n    }\n  }, 0);\n\n  document.addEventListener('DOMContentLoaded', loaded);\n};\nconst ready = setupReady([]);\n\nexport default ready;\n","import find from './find';\n\nfunction styles(selector, css) {\n  if (Array.isArray(selector)) {\n    selector.forEach((item) => styles(item, css));\n  }\n  const els = find(selector);\n  if (els.length) {\n    els.forEach((el) => {\n      Object.keys(css).forEach((key) => {\n        el.style[key] = css[key];\n      });\n    });\n  }\n}\n\nexport default styles;\n","import find from './find';\n\nfunction addAttrs(selector, attrs) {\n  if (Array.isArray(selector)) {\n    return selector.forEach((item) => addAttrs(item, attrs));\n  }\n  const els = find(selector);\n  if (els.length) {\n    els.forEach((item) => {\n      Object.keys(attrs).forEach((attr) => {\n        if (attr in item) {\n          item[attr] = attrs[attr];\n        } else {\n          item.dataset[attr] = attrs[attr];\n        }\n      });\n    });\n  }\n  return els;\n}\n\nexport default addAttrs;\n","import find from './find';\n\nfunction html(selector, value) {\n  if (Array.isArray(selector)) {\n    selector.forEach((item) => html(item, value));\n  }\n  const el = find(selector);\n  if (el.length) {\n    const length = el.length;\n    for (let i = 0; i < length; i += 1) {\n      el[i].innerHTML = value;\n    }\n  }\n}\n\nexport default html;\n","/* global DocumentTouch */\n\nexport default function isTouch() {\n  return (('ontouchstart' in window) ||\n  window.DocumentTouch && document instanceof DocumentTouch);\n}\n","import find from './find';\nimport addClass from './addClass';\nimport removeClass from './removeClass';\nimport html from './html';\nimport on from './on';\nimport styles from './styles';\n\nfunction bindEvents(el, events) {\n  Object.keys(events).forEach((event) => {\n    on(el, event, events[event]);\n  });\n}\n\nfunction modify(selector, params) {\n  if (Array.isArray(selector)) {\n    selector.forEach((item) => modify(item, params));\n  }\n  const modules = {\n    addClass,\n    removeClass,\n    html,\n    events: on,\n    styles,\n  };\n  const els = find(selector);\n  if (els.length) {\n    els.forEach((el) => {\n      Object.keys(params).forEach((param, index) => {\n        if (param in modules) {\n          if (param === 'events') {\n            bindEvents(el, params[param]);\n          }\n          modules[param](el, params[param]);\n        }\n      });\n    });\n  }\n}\n\nexport default modify;\n","import find from './find';\n\nfunction append(selector, value) {\n  if (Array.isArray(selector)) {\n    return selector.forEach((item) => append(item, value));\n  }\n  const els = find(selector);\n  if (els.length) {\n    els.forEach((el) => {\n      if (typeof value === 'string') {\n        el.insertAdjacentHTML('beforeend', value);\n      } else {\n        el.appendChild(value);\n      }\n    });\n  }\n}\n\nexport default append;\n","function toArray(value) {\n  if (!value) {\n    return [];\n  }\n  if (Array.isArray(value)) {\n    return value;\n  }\n  if (value instanceof Node) {\n    return [value];\n  }\n  return [].slice.call(value);\n}\n\nexport default toArray;\n","import addClass from './lib/addClass';\nimport delegate from './lib/delegate';\nimport find from './lib/find';\nimport findOne from './lib/findOne';\nimport fire from './lib/fire';\nimport hasClass from './lib/hasClass';\nimport hide from './lib/hide';\nimport hover from './lib/hover';\nimport isWindow from './lib/isWindow';\nimport off from './lib/off';\nimport on from './lib/on';\nimport once from './lib/once';\nimport prefixedTransform from './lib/prefixedTransform';\nimport removeClass from './lib/removeClass';\nimport scrollableContainer from './lib/scrollableContainer';\nimport show from './lib/show';\nimport matches from './lib/matches';\nimport toggleClass from './lib/toggleClass';\nimport closest from './lib/closest';\nimport ready from './lib/ready';\nimport styles from './lib/styles';\nimport addAttrs from './lib/addAttrs';\nimport html from './lib/html';\nimport isTouch from './lib/isTouch';\nimport modify from './lib/modify';\nimport append from './lib/append';\nimport toArray from './lib/toArray';\n\nexport default {\n  addClass,\n  delegate,\n  find,\n  findOne,\n  fire,\n  hasClass,\n  hide,\n  hover,\n  isWindow,\n  off,\n  on,\n  once,\n  prefixedTransform,\n  removeClass,\n  scrollableContainer,\n  show,\n  matches,\n  toggleClass,\n  closest,\n  ready,\n  styles,\n  addAttrs,\n  html,\n  isTouch,\n  modify,\n  append,\n  toArray\n};\n","import find from 'domassist';\n\nclass Test {\n  constructor() {\n    console.log('test');\n  }\n\n  type() {\n    console.log(typeof find);\n  }\n}\n\nclass Do extends Test {\n  constructor() {\n    super();\n\n    this.echo();\n  }\n\n  echo(message = 'something') {\n    console.log(message);\n  }\n}\n\nexport default Do;\n"],"names":["isWindow","obj","window","find","selector","context","HTMLElement","Node","NodeList","slice","call","startElement","document","querySelectorAll","addClass","cls","Array","isArray","forEach","item","els","length","clsArray","concat","el","classList","add","on","event","cb","capture","data","_domassistevents","addEventListener","matches","proto","Element","prototype","match","prefixes","hasOwnProperty","prefix","delegate","e","target","findOne","found","NativeCustomEvent","CustomEvent","canIuseNativeCustom","p","detail","a","type","IECustomEvent","params","createEvent","initCustomEvent","bubbles","cancelable","undefined","DomassistCustomEvent","fire","dispatchEvent","hasClass","contains","hide","currentDisplay","getComputedStyle","getPropertyValue","dataset","_currentDisplay","style","display","hover","enter","exit","off","removeEventListener","once","run","transform","prefixedTransform","testEl","createElement","vendors","property","i","len","tProperty","removeClass","remove","SCROLLABLE_CONTAINER","getScrollableContainer","documentElement","scrollableContainer","scrollTop","body","show","toggleClass","value","closest","parent","tagName","toLowerCase","parentNode","parentElement","setupReady","callbacks","callback","push","execute","fn","shift","loaded","setTimeout","readyState","ready","styles","css","Object","keys","key","addAttrs","attrs","attr","html","innerHTML","isTouch","DocumentTouch","bindEvents","events","modify","modules","param","index","append","insertAdjacentHTML","appendChild","toArray","Test","console","log","Do","echo","message"],"mappings":"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"}
