{"version":3,"file":"domassist.js","sources":["node_modules/domassist/lib/findOne.js","node_modules/domassist/lib/isWindow.js","node_modules/domassist/lib/find.js","node_modules/domassist/lib/addClass.js","node_modules/domassist/lib/on.js","node_modules/domassist/lib/matches.js","node_modules/domassist/lib/delegate.js","node_modules/domassist/lib/fire.js","node_modules/domassist/lib/hasClass.js","node_modules/domassist/lib/hide.js","node_modules/domassist/lib/hover.js","node_modules/domassist/lib/off.js","node_modules/domassist/lib/once.js","node_modules/domassist/lib/prefixedTransform.js","node_modules/domassist/lib/removeClass.js","node_modules/domassist/lib/scrollableContainer.js","node_modules/domassist/lib/show.js","node_modules/domassist/lib/toggleClass.js","node_modules/domassist/lib/closest.js","node_modules/domassist/lib/ready.js","node_modules/domassist/lib/styles.js","node_modules/domassist/lib/addAttrs.js","node_modules/domassist/lib/html.js","node_modules/domassist/lib/isTouch.js","node_modules/domassist/lib/modify.js","node_modules/domassist/lib/append.js","node_modules/domassist/lib/toArray.js","node_modules/domassist/domassist.default.js","test/input/domassist.js"],"sourcesContent":["import find from './find';\n\nfunction findOne(selector, el) {\n  const found = find(selector, el);\n\n  if (found.length) {\n    return found[0];\n  }\n\n  return null;\n}\n\nexport default findOne;\n","function isWindow(obj) {\n  return obj != null && obj === obj.window;\n}\n\nexport default isWindow;\n","import findOne from './findOne';\nimport isWindow from './isWindow';\n\nfunction find(selector, context = null) {\n  if (selector instanceof HTMLElement || selector instanceof Node || isWindow(selector)) {\n    return [selector];\n  } else if (selector instanceof NodeList) {\n    return [].slice.call(selector);\n  } else if (typeof selector === 'string') {\n    const startElement = (context) ? findOne(context) : document;\n    return [].slice.call(startElement.querySelectorAll(selector));\n  }\n  return [];\n}\n\nexport default find;\n","import find from './find';\n\nfunction addClass(selector, cls) {\n  if (Array.isArray(selector)) {\n    return selector.forEach((item) => addClass(item, cls));\n  }\n  const els = find(selector);\n  if (els.length) {\n    const clsArray = [].concat(cls);\n    els.forEach((el) => {\n      clsArray.forEach((item) => {\n        el.classList.add(item);\n      });\n    });\n    return els;\n  }\n}\n\nexport default addClass;\n","import find from './find';\n\nfunction on(selector, event, cb, capture = false) {\n  if (Array.isArray(selector)) {\n    selector.forEach((item) => on(item, event, cb, capture));\n    return;\n  }\n\n  const data = {\n    cb,\n    capture\n  };\n\n  if (!window._domassistevents) {\n    window._domassistevents = {};\n  }\n\n  window._domassistevents[`_${event}`] = data;\n  const el = find(selector);\n  if (el.length) {\n    el.forEach((item) => {\n      item.addEventListener(event, cb, capture);\n    });\n  }\n}\n\nexport default on;\n","function matches(el, selector) {\n  const proto = Element.prototype;\n  let match = false;\n\n  const prefixes = [\n    'matches',\n    'matchesSelector',\n    'webkitMatchesSelector',\n    'mozMatchesSelector',\n    'msMatchesSelector',\n    'oMatchesSelector'\n  ];\n\n  prefixes.forEach(prefix => {\n    if (proto.hasOwnProperty(prefix)) {\n      match = proto[prefix];\n    }\n  });\n\n  if (match) {\n    return (el) ? match.call(el, selector) : null;\n  }\n}\n\nexport default matches;\n","import on from './on';\nimport matches from './matches';\n\nfunction delegate(el, event, selector, cb, capture = false) {\n  on(el, event, e => {\n    if (e.target && matches(e.target, selector)) {\n      return cb(e);\n    }\n  }, capture);\n}\n\nexport default delegate;\n","import find from './find';\n\nconst NativeCustomEvent = window.CustomEvent;\n\n//\n// Check for the usage of native support for CustomEvents which is lacking\n// completely on IE.\n//\nfunction canIuseNativeCustom() {\n  try {\n    const p = new NativeCustomEvent('t', {\n      detail: {\n        a: 'b'\n      }\n    });\n    return p.type === 't' && p.detail.a === 'b';\n  } catch (e) {\n    return false;\n  }\n}\n\n// Lousy polyfill for the Custom Event constructor for IE.\nconst IECustomEvent = function CustomEvent(type, params) {\n  const e = document.createEvent('CustomEvent');\n\n  if (params) {\n    e.initCustomEvent(type, params.bubbles, params.cancelable, params.detail);\n  } else {\n    e.initCustomEvent(type, false, false, undefined);\n  }\n\n  return e;\n};\n\nconst DomassistCustomEvent = canIuseNativeCustom() ?\n  NativeCustomEvent : IECustomEvent;\n\nfunction fire(selector, type, params) {\n  if (Array.isArray(selector)) {\n    return selector.forEach((item) => fire(item, type, params));\n  }\n  const els = find(selector);\n\n  if (els.length) {\n    els.forEach(el => {\n      const event = new DomassistCustomEvent(type, params);\n      el.dispatchEvent(event);\n    });\n\n    return els;\n  }\n}\n\nexport default fire;\n","import findOne from './findOne';\nfunction hasClass(selector, cls) {\n  const el = findOne(selector);\n  if (!el) {\n    return false;\n  }\n  return el.classList.contains(cls);\n}\n\nexport default hasClass;\n","import find from './find';\n\nfunction hide(selector) {\n  if (Array.isArray(selector)) {\n    selector.forEach((item) => hide(item));\n  }\n  const els = find(selector);\n  if (els.length) {\n    els.forEach((el) => {\n      const currentDisplay = window.getComputedStyle(el).getPropertyValue('display');\n\n      if (currentDisplay !== 'none') {\n        el.dataset._currentDisplay = currentDisplay;\n        el.style.display = 'none';\n      }\n    });\n  }\n}\n\nexport default hide;\n","import on from './on';\n\nfunction hover(el, enter, exit) {\n  on(el, 'mouseenter', enter);\n  on(el, 'mouseleave', exit);\n}\n\nexport default hover;\n","import find from './find';\n\nfunction off(selector, event) {\n  if (Array.isArray(selector)) {\n    selector.forEach((item) => off(item, event));\n  }\n  if (!window._domassistevents) {\n    window._domassistevents = {};\n  }\n\n  const data = window._domassistevents[`_${event}`];\n\n  if (!data) {\n    return;\n  }\n  const el = find(selector);\n  if (el.length) {\n    el.forEach((item) => {\n      item.removeEventListener(event, data.cb, data.capture);\n    });\n  }\n}\n\nexport default off;\n","import on from './on';\nimport off from './off';\n\nfunction once(el, event, run, capture = false) {\n  on(el, event, e => {\n    off(el, event);\n    run(e);\n  }, capture);\n}\n\nexport default once;\n","let transform = null;\n\nexport default function prefixedTransform() {\n  if (transform) {\n    return transform;\n  }\n\n  const testEl = document.createElement('div');\n\n  if (testEl.style.transform === null) {\n    const vendors = ['Webkit', 'webkit', 'Moz', 'ms'];\n    let property = null;\n\n    for (let i = 0, len = vendors.length; i < len && !property; i++) {\n      const tProperty = `${vendors[i]}Transform`;\n      if (typeof testEl.style[tProperty] !== 'undefined') {\n        property = tProperty;\n      }\n    }\n\n    transform = property;\n  } else {\n    transform = 'transform';\n  }\n\n  return transform;\n}\n","import find from './find';\n\nfunction removeClass(selector, cls) {\n  if (Array.isArray(selector)) {\n    return selector.forEach((item) => removeClass(item, cls));\n  }\n\n  const els = find(selector);\n  if (els.length) {\n    const clsArray = [].concat(cls);\n    els.forEach((el) => {\n      clsArray.forEach((item) => {\n        el.classList.remove(item);\n      });\n    });\n    return els;\n  }\n}\n\nexport default removeClass;\n","let SCROLLABLE_CONTAINER;\n\nfunction getScrollableContainer() {\n  if (SCROLLABLE_CONTAINER) {\n    return SCROLLABLE_CONTAINER;\n  }\n\n  const documentElement = window.document.documentElement;\n  let scrollableContainer;\n\n  documentElement.scrollTop = 1;\n\n  if (documentElement.scrollTop === 1) {\n    documentElement.scrollTop = 0;\n    scrollableContainer = documentElement;\n  } else {\n    scrollableContainer = document.body;\n  }\n\n  SCROLLABLE_CONTAINER = scrollableContainer;\n\n  return scrollableContainer;\n}\n\nSCROLLABLE_CONTAINER = getScrollableContainer();\n\nexport default getScrollableContainer;\n","import find from './find';\n\nfunction show(selector) {\n  if (Array.isArray(selector)) {\n    selector.forEach((item) => show(item));\n  }\n  const els = find(selector);\n  if (els.length) {\n    els.forEach((el) => {\n      el.style.display = el.dataset._currentDisplay || 'block';\n    });\n  }\n}\n\nexport default show;\n","import addClass from './addClass';\nimport removeClass from './removeClass';\nimport hasClass from './hasClass';\n\nfunction toggleClass(el, value) {\n  if (hasClass(el, value)) {\n    removeClass(el, value);\n  } else {\n    addClass(el, value);\n  }\n}\n\nexport default toggleClass;\n","import matches from './matches';\n\nfunction closest(el, selector) {\n  let parent = el.parentElement;\n  while (parent.parentElement && !matches(parent, selector)) {\n    parent = parent.parentElement;\n  }\n  return (matches(parent, selector)) ? parent : null;\n}\n\nexport default closest;\n","const setupReady = (callbacks) => (callback) => {\n  callbacks.push(callback);\n  function execute() {\n    while (callbacks.length) {\n      const fn = callbacks.shift();\n      if (typeof fn === 'function') {\n        fn();\n      }\n    }\n  }\n  function loaded() {\n    document.removeEventListener('DOMContentLoaded', loaded);\n    execute();\n  }\n\n  setTimeout(() => {\n    if (document.readyState !== 'loading') {\n      return execute();\n    }\n  }, 0);\n\n  document.addEventListener('DOMContentLoaded', loaded);\n};\nconst ready = setupReady([]);\n\nexport default ready;\n","import find from './find';\n\nfunction styles(selector, css) {\n  if (Array.isArray(selector)) {\n    selector.forEach((item) => styles(item, css));\n  }\n  const els = find(selector);\n  if (els.length) {\n    els.forEach((el) => {\n      Object.keys(css).forEach((key) => {\n        el.style[key] = css[key];\n      });\n    });\n  }\n}\n\nexport default styles;\n","import find from './find';\n\nfunction addAttrs(selector, attrs) {\n  if (Array.isArray(selector)) {\n    return selector.forEach((item) => addAttrs(item, attrs));\n  }\n  const els = find(selector);\n  if (els.length) {\n    els.forEach((item) => {\n      Object.keys(attrs).forEach((attr) => {\n        if (attr in item) {\n          item[attr] = attrs[attr];\n        } else {\n          item.dataset[attr] = attrs[attr];\n        }\n      });\n    });\n  }\n  return els;\n}\n\nexport default addAttrs;\n","import find from './find';\n\nfunction html(selector, value) {\n  if (Array.isArray(selector)) {\n    selector.forEach((item) => html(item, value));\n  }\n  const el = find(selector);\n  if (el.length) {\n    const length = el.length;\n    for (let i = 0; i < length; i += 1) {\n      el[i].innerHTML = value;\n    }\n  }\n}\n\nexport default html;\n","/* global DocumentTouch */\n\nexport default function isTouch() {\n  return (('ontouchstart' in window) ||\n  window.DocumentTouch && document instanceof DocumentTouch);\n}\n","import find from './find';\nimport addClass from './addClass';\nimport removeClass from './removeClass';\nimport html from './html';\nimport on from './on';\nimport styles from './styles';\n\nfunction bindEvents(el, events) {\n  Object.keys(events).forEach((event) => {\n    on(el, event, events[event]);\n  });\n}\n\nfunction modify(selector, params) {\n  if (Array.isArray(selector)) {\n    selector.forEach((item) => modify(item, params));\n  }\n  const modules = {\n    addClass,\n    removeClass,\n    html,\n    events: on,\n    styles,\n  };\n  const els = find(selector);\n  if (els.length) {\n    els.forEach((el) => {\n      Object.keys(params).forEach((param, index) => {\n        if (param in modules) {\n          if (param === 'events') {\n            bindEvents(el, params[param]);\n          }\n          modules[param](el, params[param]);\n        }\n      });\n    });\n  }\n}\n\nexport default modify;\n","import find from './find';\n\nfunction append(selector, value) {\n  if (Array.isArray(selector)) {\n    return selector.forEach((item) => append(item, value));\n  }\n  const els = find(selector);\n  if (els.length) {\n    els.forEach((el) => {\n      if (typeof value === 'string') {\n        el.insertAdjacentHTML('beforeend', value);\n      } else {\n        el.appendChild(value);\n      }\n    });\n  }\n}\n\nexport default append;\n","function toArray(value) {\n  if (!value) {\n    return [];\n  }\n  if (Array.isArray(value)) {\n    return value;\n  }\n  if (value instanceof Node) {\n    return [value];\n  }\n  return [].slice.call(value);\n}\n\nexport default toArray;\n","import addClass from './lib/addClass';\nimport delegate from './lib/delegate';\nimport find from './lib/find';\nimport findOne from './lib/findOne';\nimport fire from './lib/fire';\nimport hasClass from './lib/hasClass';\nimport hide from './lib/hide';\nimport hover from './lib/hover';\nimport isWindow from './lib/isWindow';\nimport off from './lib/off';\nimport on from './lib/on';\nimport once from './lib/once';\nimport prefixedTransform from './lib/prefixedTransform';\nimport removeClass from './lib/removeClass';\nimport scrollableContainer from './lib/scrollableContainer';\nimport show from './lib/show';\nimport matches from './lib/matches';\nimport toggleClass from './lib/toggleClass';\nimport closest from './lib/closest';\nimport ready from './lib/ready';\nimport styles from './lib/styles';\nimport addAttrs from './lib/addAttrs';\nimport html from './lib/html';\nimport isTouch from './lib/isTouch';\nimport modify from './lib/modify';\nimport append from './lib/append';\nimport toArray from './lib/toArray';\n\nexport default {\n  addClass,\n  delegate,\n  find,\n  findOne,\n  fire,\n  hasClass,\n  hide,\n  hover,\n  isWindow,\n  off,\n  on,\n  once,\n  prefixedTransform,\n  removeClass,\n  scrollableContainer,\n  show,\n  matches,\n  toggleClass,\n  closest,\n  ready,\n  styles,\n  addAttrs,\n  html,\n  isTouch,\n  modify,\n  append,\n  toArray\n};\n","import find from 'domassist';\n\nclass Test {\n  constructor() {\n    console.log('test');\n  }\n\n  type() {\n    console.log(typeof find);\n  }\n}\n\nclass Do extends Test {\n  constructor() {\n    super();\n\n    this.echo();\n  }\n\n  echo(message = 'something') {\n    console.log(message);\n  }\n}\n\nexport default Do;\n"],"names":["findOne","selector","el","found","find","length","isWindow","obj","window","context","HTMLElement","Node","NodeList","slice","call","startElement","document","querySelectorAll","addClass","cls","Array","isArray","forEach","item","els","clsArray","concat","classList","add","on","event","cb","capture","data","_domassistevents","addEventListener","matches","proto","Element","prototype","match","prefixes","hasOwnProperty","prefix","delegate","e","target","NativeCustomEvent","CustomEvent","canIuseNativeCustom","p","detail","a","type","IECustomEvent","params","createEvent","initCustomEvent","bubbles","cancelable","undefined","DomassistCustomEvent","fire","dispatchEvent","hasClass","contains","hide","currentDisplay","getComputedStyle","getPropertyValue","dataset","_currentDisplay","style","display","hover","enter","exit","off","removeEventListener","once","run","transform","prefixedTransform","testEl","createElement","vendors","property","i","len","tProperty","removeClass","remove","SCROLLABLE_CONTAINER","getScrollableContainer","documentElement","scrollableContainer","scrollTop","body","show","toggleClass","value","closest","parent","parentElement","setupReady","callbacks","callback","push","execute","fn","shift","loaded","setTimeout","readyState","ready","styles","css","Object","keys","key","addAttrs","attrs","attr","html","innerHTML","isTouch","DocumentTouch","bindEvents","events","modify","modules","param","index","append","insertAdjacentHTML","appendChild","toArray","Test","console","log","Do","echo","message"],"mappings":"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"}